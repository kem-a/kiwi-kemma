/* Custom theme GTK4 - Window Controls Mac-like Behavior */

/* Window Controls base states*/

headerbar windowcontrols button {
  min-width: 16px;
  min-height: 16px;
  background-repeat: no-repeat;
  background-size: 16px 16px;
  background-position: center;
  border-radius: 8px;
}

/* If you actually have image children, keep this; otherwise it's harmless */
headerbar windowcontrols button > image {
  padding: 0 3px;
}

headerbar windowcontrols {
  margin-left: 10px;
  margin-right: 10px;
}

headerbar windowcontrols button.close,
headerbar windowcontrols button.maximize,
headerbar windowcontrols button.minimize {
  border-color: transparent;
  background-color: transparent;
  background-image: none;
  box-shadow: none;
  color: transparent;
}

headerbar windowcontrols button.close:backdrop,
headerbar windowcontrols button.maximize:backdrop,
headerbar windowcontrols button.minimize:backdrop {
  opacity: 1;
}

/* Close Button */
headerbar windowcontrols button.close {
  background-image: url("titlebuttons/button-close.svg");
}
headerbar windowcontrols button.close:backdrop {
  background-image: url("titlebuttons/button-close-backdrop.svg");
}
headerbar windowcontrols button.close:hover,
headerbar windowcontrols:hover button.close,
headerbar windowcontrols:hover button.close:backdrop {
  background-image: url("titlebuttons/button-close-hover.svg");
}
headerbar windowcontrols button.close:backdrop:hover {
  background-image: url("titlebuttons/button-close-hover.svg");
}

/* Minimize Button */
headerbar windowcontrols button.minimize {
  background-image: url("titlebuttons/button-minimize.svg");
}
headerbar windowcontrols button.minimize:backdrop {
  background-image: url("titlebuttons/button-minimize-backdrop.svg");
}
headerbar windowcontrols button.minimize:hover,
headerbar windowcontrols:hover button.minimize,
headerbar windowcontrols:hover button.minimize:backdrop {
  background-image: url("titlebuttons/button-minimize-hover.svg");
}
headerbar windowcontrols button.minimize:backdrop:hover {
  background-image: url("titlebuttons/button-minimize-hover.svg");
}

/* Maximize Button (unmaximized state) */
headerbar windowcontrols button.maximize {
  background-image: url("titlebuttons/button-maximize.svg");
}
headerbar windowcontrols button.maximize:backdrop {
  background-image: url("titlebuttons/button-maximize-backdrop.svg");
}
headerbar windowcontrols button.maximize:hover,
headerbar windowcontrols:hover button.maximize,
headerbar windowcontrols:hover button.maximize:backdrop {
  background-image: url("titlebuttons/button-maximize-hover.svg");
}
headerbar windowcontrols button.maximize:backdrop:hover {
  background-image: url("titlebuttons/button-maximize-hover.svg");
}

/* When maximized or fullscreen, the Maximize button becomes Restore */
.fullscreen headerbar windowcontrols button.maximize,
.maximized headerbar windowcontrols button.maximize {
  background-image: url("titlebuttons/button-restore.svg");
}
.fullscreen headerbar windowcontrols button.maximize:backdrop,
.maximized headerbar windowcontrols button.maximize:backdrop {
  background-image: url("titlebuttons/button-restore-backdrop.svg");
}
.fullscreen headerbar windowcontrols button.maximize:hover,
.maximized headerbar windowcontrols button.maximize:hover,
.fullscreen headerbar windowcontrols:hover button.maximize,
.maximized headerbar windowcontrols:hover button.maximize,
.fullscreen headerbar windowcontrols:hover button.maximize:backdrop,
.maximized headerbar windowcontrols:hover button.maximize:backdrop {
  background-image: url("titlebuttons/button-restore-hover.svg");
}

/* Mac-like: show all 3 when hovering the group */
headerbar windowcontrols:hover button.close {
  background-image: url("titlebuttons/button-close-hover.svg");
}
headerbar windowcontrols:hover button.minimize {
  background-image: url("titlebuttons/button-minimize-hover.svg");
}
headerbar windowcontrols:hover button.maximize {
  background-image: url("titlebuttons/button-maximize-hover.svg");
}
.fullscreen headerbar windowcontrols:hover button.maximize,
.maximized headerbar windowcontrols:hover button.maximize {
  background-image: url("titlebuttons/button-restore-hover.svg");
}

/* --- ACTIVE STATES --- */
/* Place active rules LAST so they win over container :hover rules with equal specificity. */

/* Close active (including when the container is hovered) */
headerbar windowcontrols button.close:active,
headerbar windowcontrols:hover button.close:active {
  background-image: url("titlebuttons/button-close-active.svg");
}

/* Minimize active */
headerbar windowcontrols button.minimize:active,
headerbar windowcontrols:hover button.minimize:active {
  background-image: url("titlebuttons/button-minimize-active.svg");
}

/* Maximize active (unmaximized) */
headerbar windowcontrols button.maximize:active,
headerbar windowcontrols:hover button.maximize:active {
  background-image: url("titlebuttons/button-maximize-active.svg");
}

/* Restore active (window maximized/fullscreen) */
.fullscreen headerbar windowcontrols button.maximize:active,
.maximized headerbar windowcontrols button.maximize:active,
.fullscreen headerbar windowcontrols:hover button.maximize:active,
.maximized headerbar windowcontrols:hover button.maximize:active {
  background-image: url("titlebuttons/button-restore-active.svg");
}

/* optional: fine tuning for layout */
headerbar .title {
  margin-left: 6px;
  margin-right: 6px;
}

