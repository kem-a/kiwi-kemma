/* Custom theme GTK3 - Window Controls Mac-like Behavior */

/* Window Controls base states*/

headerbar button.titlebutton,
.titlebar button.titlebutton {
  min-width: 16px;
  min-height: 16px;
  margin: 0;
  padding: 0;
  background-repeat: no-repeat;
  background-size: 16px 16px;
  background-position: center;
  border-radius: 8px;
}

/* Reset default theming on these buttons for all interactive states */
headerbar button.titlebutton.close,
headerbar button.titlebutton.close:hover,
headerbar button.titlebutton.close:focus,
headerbar button.titlebutton.close:active,
headerbar button.titlebutton.close:backdrop,
headerbar button.titlebutton.maximize,
headerbar button.titlebutton.maximize:hover,
headerbar button.titlebutton.maximize:focus,
headerbar button.titlebutton.maximize:active,
headerbar button.titlebutton.maximize:backdrop,
headerbar button.titlebutton.minimize,
headerbar button.titlebutton.minimize:hover,
headerbar button.titlebutton.minimize:focus,
headerbar button.titlebutton.minimize:active,
headerbar button.titlebutton.minimize:backdrop,
.titlebar button.titlebutton.close,
.titlebar button.titlebutton.close:hover,
.titlebar button.titlebutton.close:focus,
.titlebar button.titlebutton.close:active,
.titlebar button.titlebutton.close:backdrop,
.titlebar button.titlebutton.maximize,
.titlebar button.titlebutton.maximize:hover,
.titlebar button.titlebutton.maximize:focus,
.titlebar button.titlebutton.maximize:active,
.titlebar button.titlebutton.maximize:backdrop,
.titlebar button.titlebutton.minimize,
.titlebar button.titlebutton.minimize:hover,
.titlebar button.titlebutton.minimize:focus,
.titlebar button.titlebutton.minimize:active,
.titlebar button.titlebutton.minimize:backdrop {
  border-color: transparent;
  background-color: transparent;
  background-image: none;
  box-shadow: none;
  color: transparent;
}

/* Backdrop stays opaque */
headerbar button.titlebutton.close:backdrop,
headerbar button.titlebutton.maximize:backdrop,
headerbar button.titlebutton.minimize:backdrop,
.titlebar button.titlebutton.close:backdrop,
.titlebar button.titlebutton.maximize:backdrop,
.titlebar button.titlebutton.minimize:backdrop {
  opacity: 1;
}

/* --- CLOSE --- */
headerbar button.titlebutton.close,
.titlebar button.titlebutton.close {
  background-image: url("titlebuttons/button-close.svg");
}
headerbar button.titlebutton.close:backdrop,
.titlebar button.titlebutton.close:backdrop {
  background-image: url("titlebuttons/button-close-backdrop.svg");
}
/* per-button hover */
headerbar button.titlebutton.close:hover,
.titlebar button.titlebutton.close:hover,
headerbar button.titlebutton.close:backdrop:hover,
.titlebar button.titlebutton.close:backdrop:hover {
  background-image: url("titlebuttons/button-close-hover.svg");
}

/* --- MINIMIZE --- */
headerbar button.titlebutton.minimize,
.titlebar button.titlebutton.minimize {
  background-image: url("titlebuttons/button-minimize.svg");
}
headerbar button.titlebutton.minimize:backdrop,
.titlebar button.titlebutton.minimize:backdrop {
  background-image: url("titlebuttons/button-minimize-backdrop.svg");
}
headerbar button.titlebutton.minimize:hover,
.titlebar button.titlebutton.minimize:hover,
headerbar button.titlebutton.minimize:backdrop:hover,
.titlebar button.titlebutton.minimize:backdrop:hover {
  background-image: url("titlebuttons/button-minimize-hover.svg");
}

/* --- MAXIMIZE (window not maximized) --- */
headerbar button.titlebutton.maximize,
.titlebar button.titlebutton.maximize {
  background-image: url("titlebuttons/button-maximize.svg");
}
headerbar button.titlebutton.maximize:backdrop,
.titlebar button.titlebutton.maximize:backdrop {
  background-image: url("titlebuttons/button-maximize-backdrop.svg");
}
headerbar button.titlebutton.maximize:hover,
.titlebar button.titlebutton.maximize:hover,
headerbar button.titlebutton.maximize:backdrop:hover,
.titlebar button.titlebutton.maximize:backdrop:hover {
  background-image: url("titlebuttons/button-maximize-hover.svg");
}

/* --- RESTORE (when window is maximized) --- */
headerbar button.titlebutton.restore,
.titlebar button.titlebutton.restore {
  background-image: url("titlebuttons/button-restore.svg");
}
headerbar button.titlebutton.restore:backdrop,
.titlebar button.titlebutton.restore:backdrop {
  background-image: url("titlebuttons/button-restore-backdrop.svg");
}
headerbar button.titlebutton.restore:hover,
.titlebar button.titlebutton.restore:hover,
headerbar button.titlebutton.restore:backdrop:hover,
.titlebar button.titlebutton.restore:backdrop:hover {
  background-image: url("titlebuttons/button-restore-hover.svg");
}

/* --- GROUP HOVER (Mac-like: reveal all three on headerbar hover) --- */
headerbar:hover button.titlebutton.close,
.titlebar:hover button.titlebutton.close {
  background-image: url("titlebuttons/button-close-hover.svg");
}
headerbar:hover button.titlebutton.minimize,
.titlebar:hover button.titlebutton.minimize {
  background-image: url("titlebuttons/button-minimize-hover.svg");
}
headerbar:hover button.titlebutton.maximize,
.titlebar:hover button.titlebutton.maximize {
  background-image: url("titlebuttons/button-maximize-hover.svg");
}
/* when the button is in restore mode and headerbar is hovered */
headerbar:hover button.titlebutton.restore,
.titlebar:hover button.titlebutton.restore {
  background-image: url("titlebuttons/button-restore-hover.svg");
}

/* --- ACTIVE STATES LAST (so they win over group-hover) --- */
/* Close active */
headerbar button.titlebutton.close:active,
.titlebar button.titlebutton.close:active,
headerbar:hover button.titlebutton.close:active,
.titlebar:hover button.titlebutton.close:active {
  background-image: url("titlebuttons/button-close-active.svg");
}

/* Minimize active */
headerbar button.titlebutton.minimize:active,
.titlebar button.titlebutton.minimize:active,
headerbar:hover button.titlebutton.minimize:active,
.titlebar:hover button.titlebutton.minimize:active {
  background-image: url("titlebuttons/button-minimize-active.svg");
}

/* Maximize active (unmaximized) */
headerbar button.titlebutton.maximize:active,
.titlebar button.titlebutton.maximize:active,
headerbar:hover button.titlebutton.maximize:active,
.titlebar:hover button.titlebutton.maximize:active {
  background-image: url("titlebuttons/button-maximize-active.svg");
}

/* Restore active (window maximized) */
headerbar button.titlebutton.restore:active,
.titlebar button.titlebutton.restore:active,
headerbar:hover button.titlebutton.restore:active,
.titlebar:hover button.titlebutton.restore:active {
  background-image: url("titlebuttons/button-restore-active.svg");
}
